## ğŸ“¦ ë‚­ë§ŒHUB : MSA ê¸°ë°˜ ë¬¼ë¥˜ ê´€ë¦¬ ë° ë°°ì†¡ ì‹œìŠ¤í…œ


## ğŸ“„ ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ëª©í‘œ](#ğŸ“Œ-í”„ë¡œì íŠ¸-ëª©í‘œ)   
2. [ì„œë¹„ìŠ¤ êµ¬ì„± ë° ì‹¤í–‰ ë°©ë²•](#âš™ï¸-ì„œë¹„ìŠ¤-êµ¬ì„±-ë°-ì‹¤í–‰-ë°©ë²•)   
3. [ERD](#ğŸ“-ERD )   
4. [ê¸°ìˆ  ìŠ¤íƒ](#âš’ï¸-ê¸°ìˆ -ìŠ¤íƒ)   
5. [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#ğŸ’£-íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)

## ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ 
- Microservices Architecture ê¸°ë°˜ì˜ B2B ë¬¼ë¥˜ ê´€ë¦¬ ë° ë°°ì†¡ ì‹œìŠ¤í…œì„ ê°œë°œí•©ë‹ˆë‹¤.
- `Spring Cloud`ë¥¼ í™œìš©í•˜ì—¬ MSA ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•©ë‹ˆë‹¤.
- ì„œë¹„ìŠ¤ ê°„ í†µì‹ ì˜ ì‹ ë¢°ì„±ì„ í™•ë³´í•˜ê³ , ë…ë¦½ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ í™˜ê²½ì—ì„œ ë°ì´í„° ë¬´ê²°ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.
- `Kafka`ë¥¼ í™œìš©í•˜ì—¬ Event Driven ë°©ì‹ì˜ ì£¼ë¬¸-ë°°ì†¡-ì•Œë¦¼ ì‹œìŠ¤í…œì„ êµ¬ì„±í•©ë‹ˆë‹¤.

## âš™ï¸ ì„œë¹„ìŠ¤ êµ¬ì„± ë° ì‹¤í–‰ ë°©ë²•
### ì¸í”„ë¼ ì„¤ê³„ì„œ
![á„‚á…¡á†¼á„†á…¡á†«HUB_á„‹á…ªá„‹á…µá„‹á…¥á„‘á…³á„…á…¦á„‹á…µá†·](https://github.com/user-attachments/assets/33d6d343-53f8-4b00-ac46-dc82e1ef5402)
### ì´ë²¤íŠ¸ Flow
![ì´ë²¤íŠ¸ Flow](https://github.com/user-attachments/assets/4e8f44b9-73f7-4701-aa07-0346bf13e3c5)
### ì‹¤í–‰ ë°©ë²•
```bash
# Clone the Git repository
git clone https://github.com/NangManHub/nangman-hub.git

# Go to the project directory
cd nangman-hub

# Build and run containers using Docker Compose
docker compose up -d --build
```

## ğŸ“ ERD 
![ERD](https://github.com/user-attachments/assets/2d5ca910-2475-4092-89c2-42e4291f7eb7)

## âš’ï¸ ê¸°ìˆ  ìŠ¤íƒ 

### Server
![Static Badge](https://img.shields.io/badge/Java-17-blue)
![Static Badge](https://img.shields.io/badge/SpringBoot-3.4.0-green)

![SpringDataJPA](https://img.shields.io/badge/Spring%20Data%20JPA-6DB33F?style=for-the-badge)
![QueryDSL](https://img.shields.io/badge/QueryDSL-00B9F1?style=for-the-badge)
![SpringSecurity](https://img.shields.io/badge/spring%20security-6DB33F?style=for-the-badge)
![Swagger](https://img.shields.io/badge/-Swagger-6DB33F?style=for-the-badge)  
![SpringCloud](https://img.shields.io/badge/Spring%20Cloud-6DB33F?style=for-the-badge)
![Resilience4j](https://img.shields.io/badge/Resilience4j-00A2A2?style=for-the-badge)
![Openfeign](https://img.shields.io/badge/Openfeign-00A9FF?style=for-the-badge)
![JWT](https://img.shields.io/badge/JWT-000000?style=for-the-badge)

### DB  
![Postgresql](https://img.shields.io/badge/postgresql-4169E1?style=for-the-badge)
![Redis](https://img.shields.io/badge/redis-FF4438?style=for-the-badge)  

### Message Broker  
![Kafka](https://img.shields.io/badge/kafka-231F20?style=for-the-badge)

### Monitoring
![Zipkin](https://img.shields.io/badge/Zipkin-F7B83B?style=for-the-badge)  

### Containerization
![Docker](https://img.shields.io/badge/docker-2496ED?style=for-the-badge)
![DockerCompose](https://img.shields.io/badge/docker_compose-0A79D0?style=for-the-badge)

### Version Control  
![Git](https://img.shields.io/badge/git-F05032?style=for-the-badge)
![Github](https://img.shields.io/badge/github-181717?style=for-the-badge)  



## ğŸ’£ íŠ¸ëŸ¬ë¸” ìŠˆíŒ… 
<details>
  <summary>ë¹„ë™ê¸° ì£¼ë¬¸-ë°°ì†¡ ìƒì„± ê³¼ì •ì—ì„œì˜ ë°ì´í„° ë¶ˆì¼ì¹˜ ì´ìŠˆ</summary>
  
  ### ë¬¸ì œ ì •ì˜

  ë¹„ë™ê¸°ì ìœ¼ë¡œ ì£¼ë¬¸ê³¼ ë°°ì†¡ì„ ì²˜ë¦¬í•˜ëŠ” êµ¬ì¡°ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:
  
  1. ì£¼ë¬¸ ìƒì„± â†’ Kafkaë¥¼ í†µí•´ ë©”ì‹œì§€ ì „ì†¡ â†’ ë°°ì†¡ ìƒì„±.
  2. ë°°ì†¡ ìƒì„± ì‹¤íŒ¨ ì‹œ(ì˜ˆ: ë°°ì†¡ê¸°ì‚¬ ì—†ìŒ, í—ˆë¸Œ ì •ë³´ ë¶€ì¡± ë“±) **ì´ë¯¸ ìƒì„±ëœ ì£¼ë¬¸ ë°ì´í„°ê°€ ì‚­ì œë˜ì§€ ì•ŠëŠ” ë¬¸ì œ** ë°œìƒ.
  3. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **ë³´ìƒ íŠ¸ëœì­ì…˜(Compensating Transaction)** ë¡œì§ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.

  ---

  ### ê¸°ìˆ  ì„ ì •

  Kafkaì˜ ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´ ì¤‘ ì„œë¹„ìŠ¤ ìš”êµ¬ ì‚¬í•­ì— ë”°ë¼ Dead Letter Queue(DLQ) ë°©ì‹ì„ ë„ì…í–ˆìŠµë‹ˆë‹¤:
  
  - **ì¡°ê±´**:
    - ë‹¨ìˆœí•œ ë°ì´í„° ìƒì„±/ì‚­ì œ ì¤‘ì‹¬ì˜ ë¡œì§.
    - ë©”ì‹œì§€ ì²˜ë¦¬ ìˆœì„œ ë³´ì¥ì´ ë¶ˆí•„ìš”.
  - **ì„ íƒ**:
    - DLQë¥¼ ì‚¬ìš©í•´ ì—ëŸ¬ ë°œìƒ ì‹œ ë©”ì‹œì§€ë¥¼ ë³„ë„ì˜ ì—ëŸ¬ í† í”½ìœ¼ë¡œ ì „ì†¡ ë° ê´€ë¦¬.

  ---

  ### í•´ê²° ê³¼ì •

  1. **ë°°ì†¡ ìƒì„± ì‹¤íŒ¨ ì´ë²¤íŠ¸ ì²˜ë¦¬**  
     - ë°°ì†¡ ìƒì„± ì‹¤íŒ¨ ì‹œ **`delivery.create-fail`** ì´ë²¤íŠ¸ë¥¼ DLQë¡œ ë°œì†¡.
  
  2. **ì£¼ë¬¸ ë°ì´í„° ë¡¤ë°± ì²˜ë¦¬**  
     - ì£¼ë¬¸ ì„œë¹„ìŠ¤ì—ì„œ **`delivery.create-fail`** ì´ë²¤íŠ¸ ìˆ˜ì‹  í›„ ê´€ë ¨ ì£¼ë¬¸ ë°ì´í„°ë¥¼ **Soft Delete** ë°©ì‹ìœ¼ë¡œ ë¡¤ë°±.
  
  3. **í™•ì¥ ê°€ëŠ¥ì„±**  
     - ìŠ¬ë™(Slack) ì•Œë¦¼ ê¸°ëŠ¥ ì¶”ê°€ë¡œ ë°°ì†¡ ìƒì„± ì‹¤íŒ¨ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê´€ë¦¬ìì—ê²Œ ì•Œë¦¼.

  ---

  ### ê²°ê³¼

  - ë¶„ì‚° íŠ¸ëœì­ì…˜ í™˜ê²½ì—ì„œ **ë°ì´í„° ì¼ê´€ì„±**ì„ ìœ ì§€í•˜ëŠ” ë¡¤ë°± ë¡œì§ êµ¬í˜„.
  - Kafka DLQ í™œìš©ìœ¼ë¡œ ë¹„ë™ê¸° ë°ì´í„° ë¶ˆì¼ì¹˜ ë¬¸ì œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í•´ê²°.
  - í™•ì¥ ê°€ëŠ¥ì„±ì„ ê³ ë ¤í•œ ì„¤ê³„ë¡œ ê´€ë¦¬ íš¨ìœ¨ì„± ë° ì•ˆì •ì„± í–¥ìƒ.
  
</details>



## ğŸ”— Link   
[ğŸ‘‰ğŸ» ì‹œìŠ¤í…œ ê¸°íš ëª…ì„¸ì„œ ì •ë¦¬ Blog](https://zxxhe.tistory.com/22)


## ğŸ‘¥ íŒ€ì› ì†Œê°œ   

| ì´ì£¼í¬ | ê¶Œí˜„ì¤€ | ë°•ì¤€í˜• | ì—°ì œë¯¼ |
| --- | --- | --- | --- |
| âœ´ï¸ íŒ€ì¥ <br> âœ´ï¸ Company <br> âœ´ï¸ Order | âœ´ï¸ User <br> âœ´ï¸ Slack | âœ´ï¸ Delivery <br> âœ´ï¸ Track | âœ´ï¸ Hub <br> âœ´ï¸ AI |